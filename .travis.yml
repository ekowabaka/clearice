language: php
sudo: false
dist: trusty
php:
 - "hhvm"
 - "7.0"
sudo: false
matrix:
  include:
    - php: "7.1"
      env: COVERAGE=yes
 
before_script:
 - composer install

script: vendor/bin/phpunit --coverage-clover coverage.clover tests/cases 
after_script: if [ "$COVERAGE" == "yes" ]; then wget https://scrutinizer-ci.com/ocular.phar && php ocular.phar code-coverage:upload --format=php-clover coverage.clover; fi

